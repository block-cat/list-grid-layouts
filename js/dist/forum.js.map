{"version":3,"sources":["webpack://@block-cat/list-grid-layouts/webpack/bootstrap","webpack://@block-cat/list-grid-layouts/./forum.js","webpack://@block-cat/list-grid-layouts/./node_modules/es-cookie/src/es-cookie.js","webpack://@block-cat/list-grid-layouts/./src/forum/index.js","webpack://@block-cat/list-grid-layouts/./src/forum/utils/craftBadges.js","webpack://@block-cat/list-grid-layouts/./src/forum/utils/getFirstImage.js","webpack://@block-cat/list-grid-layouts/./src/forum/utils/gridTemplate.js","webpack://@block-cat/list-grid-layouts/./src/forum/utils/listTemplate.js","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/Button']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/DiscussionList']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/DiscussionListItem']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/DiscussionPage']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/Dropdown']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/IndexPage']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/Link']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['components/Placeholder']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['extend']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['helpers/avatar']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['helpers/icon']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['helpers/username']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['utils/humanTime']\"","webpack://@block-cat/list-grid-layouts/external \"flarum.core.compat['utils/string']\""],"names":["modifyLayout","Cookies","override","DiscussionList","prototype","state","attrs","listTemplate","app","current","matches","DiscussionPage","gridTemplate","initializers","add","original","extend","IndexPage","items","Button","component","title","translator","trans","icon","className","onclick","bind","craftBadges","badges","length","m","map","badge","type","oncreate","vnode","$","dom","tooltip","placement","label","getFirstImage","post","regex","defaultImg","src","exec","contentHtml","includes","address_prefix","substring","lastIndexOf","address_sufix","previewText","text","lenght","preview","truncate","loading","isLoading","LoadingIndicator","moreResults","loadMore","empty","Placeholder","isSearchResults","discussions","discussion","i","id","isHidden","DiscussionControls","controls","toArray","Dropdown","buttonClassName","route","firstPost","contentPlain","user","avatar","username","humanTime","createdAt","lastPostNumber","replyCount","lastPostedAt","params","getParams","DiscussionListItem"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA,wC;;;;;;;;;;;;ACAa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD,6BAA6B,EAAE;AAC/B,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,YAAY;AAChE;AACA;AACA;AACA,sCAAsC,gBAAgB,cAAc;AACpE;AACA;;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,YAAT,GAAwB;AACtB,MAAIC,6CAAA,CA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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nexports.__esModule = true;\r\nfunction stringifyAttribute(name, value) {\r\n    if (!value) {\r\n        return '';\r\n    }\r\n    var stringified = '; ' + name;\r\n    if (value === true) {\r\n        return stringified; // boolean attributes shouldn't have a value\r\n    }\r\n    return stringified + '=' + value;\r\n}\r\nfunction stringifyAttributes(attributes) {\r\n    if (typeof attributes.expires === 'number') {\r\n        var expires = new Date();\r\n        expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\r\n        attributes.expires = expires;\r\n    }\r\n    return stringifyAttribute('Expires', attributes.expires ? attributes.expires.toUTCString() : '')\r\n        + stringifyAttribute('Domain', attributes.domain)\r\n        + stringifyAttribute('Path', attributes.path)\r\n        + stringifyAttribute('Secure', attributes.secure)\r\n        + stringifyAttribute('SameSite', attributes.sameSite);\r\n}\r\nfunction encode(name, value, attributes) {\r\n    return encodeURIComponent(name)\r\n        .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent) // allowed special characters\r\n        .replace(/\\(/g, '%28').replace(/\\)/g, '%29') // replace opening and closing parens\r\n        + '=' + encodeURIComponent(value)\r\n        // allowed special characters\r\n        .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent)\r\n        + stringifyAttributes(attributes);\r\n}\r\nexports.encode = encode;\r\nfunction parse(cookieString) {\r\n    var result = {};\r\n    var cookies = cookieString ? cookieString.split('; ') : [];\r\n    var rdecode = /(%[\\dA-F]{2})+/gi;\r\n    for (var i = 0; i < cookies.length; i++) {\r\n        var parts = cookies[i].split('=');\r\n        var cookie = parts.slice(1).join('=');\r\n        if (cookie.charAt(0) === '\"') {\r\n            cookie = cookie.slice(1, -1);\r\n        }\r\n        try {\r\n            var name_1 = parts[0].replace(rdecode, decodeURIComponent);\r\n            result[name_1] = cookie.replace(rdecode, decodeURIComponent);\r\n        }\r\n        catch (e) {\r\n            // ignore cookies with invalid name/value encoding\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.parse = parse;\r\nfunction getAll() {\r\n    return parse(document.cookie);\r\n}\r\nexports.getAll = getAll;\r\nfunction get(name) {\r\n    return getAll()[name];\r\n}\r\nexports.get = get;\r\nfunction set(name, value, attributes) {\r\n    document.cookie = encode(name, value, __assign({ path: '/' }, attributes));\r\n}\r\nexports.set = set;\r\nfunction remove(name, attributes) {\r\n    set(name, '', __assign(__assign({}, attributes), { expires: -1 }));\r\n}\r\nexports.remove = remove;\r\n","import * as Cookies from 'es-cookie';\r\nimport { extend, override } from 'flarum/extend';\r\nimport Button from 'flarum/components/Button';\r\nimport DiscussionList from 'flarum/components/DiscussionList';\r\nimport DiscussionPage from 'flarum/components/DiscussionPage';\r\nimport IndexPage from 'flarum/components/IndexPage';\r\nimport listTemplate from './utils/listTemplate';\r\nimport gridTemplate from './utils/gridTemplate';\r\n\r\nfunction modifyLayout() {\r\n  if (Cookies.get('grid') === 'true') {\r\n    Cookies.set('grid', 'false');\r\n    override(DiscussionList.prototype, 'view', function() {\r\n      const state = this.attrs.state;\r\n\r\n      return listTemplate(state);\r\n    });\r\n  }\r\n  else {\r\n    Cookies.set('grid', 'true');\r\n    override(DiscussionList.prototype, 'view', function() {\r\n      const state = this.attrs.state;\r\n\r\n      if (app.current.matches(DiscussionPage)) {\r\n        return listTemplate(state);\r\n      }\r\n      else {\r\n        return gridTemplate(state);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\napp.initializers.add('block-cat/list-grid-layouts', () => {\r\n  override(DiscussionList.prototype, 'view', function(original) {\r\n    const state = this.attrs.state;\r\n\r\n    if (Cookies.get('grid') === 'true') {\r\n      if (app.current.matches(DiscussionPage)) {\r\n        return listTemplate(state);\r\n      }\r\n      else\r\n        return gridTemplate(state);\r\n    }\r\n    else {\r\n      return original();\r\n    }\r\n  });\r\n\r\n  extend(IndexPage.prototype, 'actionItems', function(items) {\r\n    items.add(\r\n      'gridLayout',\r\n      Button.component({\r\n        title: Cookies.get('grid') === 'true' ? app.translator.trans('list-grid-layouts.forum.index.list_tooltip') : app.translator.trans('list-grid-layouts.forum.index.grid_tooltip'),\r\n        icon: Cookies.get('grid') === 'true' ? 'fas fa-list-ul' : 'fas fa-th-large',\r\n        className: 'Button Button--icon',\r\n        onclick: modifyLayout.bind(this),\r\n      })\r\n    );\r\n  });\r\n});\r\n","import icon from 'flarum/helpers/icon';\n\n\nexport default function craftBadges(badges) {\n  if (badges.length) {\n    return [m('.cardBadges', [badges.map((badge) => {\n      return [m('span.cardBadge.Badge.Badge--' + badge.attrs.type, {\n        oncreate: function (vnode) {\n          $(vnode.dom).tooltip({placement: 'right'});\n        }, title: badge.attrs.label[0]\n      }, [icon(badge.attrs.icon)])]\n    })])];\n  }\n};\n","\nexport default function getFirstImage(post) {\n  const regex = /<img(?!.*?class=\"emoji\").*?src=[\\'\"](.*?)[\\'\"].*?>/;\n  const defaultImg = 'https://png.pngtree.com/thumb_back/fw800/background/20190222/ourmid/pngtree-autumnal-fall-big-tree-park-background-cartoon-design-backgroundfallbig-treefallen-leavespark-image_53954.jpg';\n  if (post) {\n    const src = regex.exec(post.contentHtml());\n    if (src) {\n      if (src[1].includes('imgur')) {\n        let address_prefix = src[1].substring(0, src[1].lastIndexOf(\".\"));\n        let address_sufix = src[1].substring(src[1].lastIndexOf(\".\"));\n        return address_prefix + 'm' + address_sufix;\n      }\n      else {\n        return src[1];\n      }\n    }\n    else {\n      return defaultImg;\n    }\n  }\n  return defaultImg;\n};\n","import LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport Button from 'flarum/components/Button';\nimport Placeholder from 'flarum/components/Placeholder';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\nimport Dropdown from 'flarum/components/Dropdown';\nimport Link from 'flarum/components/Link';\nimport craftBadges from './craftBadges';\nimport getFirstImage from './getFirstImage';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport humanTime from 'flarum/utils/humanTime';\nimport icon from 'flarum/helpers/icon';\nimport { truncate } from 'flarum/utils/string';\n\nfunction previewText(text, lenght = 150) {\n  let preview;\n  if (text.length) {\n    preview = <div className=\"previewPost\">\n      {truncate(text, lenght)}\n    </div>;\n  } else {\n    preview = '';\n  }\n  return preview;\n}\n\nexport default function gridTemplate(state) {\n  let loading;\n\n  if (state.isLoading()) {\n    loading = LoadingIndicator.component();\n  }\n  else {\n    if (state.moreResults) {\n      loading = Button.component(\n        {\n          className: 'Button',\n          onclick: state.loadMore.bind(state),\n        },\n        app.translator.trans('core.forum.discussion_list.load_more_button')\n      );\n    }\n  }\n\n  if (state.empty()) {\n    const text = app.translator.trans('core.forum.discussion_list.empty_text');\n    return <div className=\"DiscussionList\">{Placeholder.component({ text })}</div>;\n  }\n\n  return (\n    <div className={'DiscussionList' + (state.isSearchResults() ? ' DiscussionList--searchResults' : '')}>\n      <div class=\"DiscussionList-discussions flexCard\">\n        {state.discussions.map((discussion, i) => {\n          return (\n            <div key={discussion.id()} data-id={discussion.id()}\n              className={'CardsListItem smallCard' +\n              (discussion.isHidden() ? ' DiscussionListItem--hidden' : '')\n              }>\n                {/* Controls */}\n                {DiscussionControls.controls(discussion, this).toArray().length\n                ? Dropdown.component(\n                  {\n                    icon: 'fas fa-ellipsis-v',\n                    className: 'DiscussionListItem-controls',\n                    buttonClassName: 'Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right',\n                  },\n                  DiscussionControls.controls(discussion, this).toArray()\n                )\n                : ''}\n\n                <Link href={app.route.discussion(discussion, 0)} className='cardLink'>\n                  {/* Badges */}\n                  {craftBadges(discussion.badges().toArray())}\n\n                  {/* Image */}\n                  <img className='previewCardImg' alt={discussion.title()}\n                    src={getFirstImage(discussion.firstPost())} />\n                  \n                  {/* Here should was the tags but we exclude these */}\n\n                  {/* Discussion title */}\n                  <div className='cardTitle'>\n                    <h2>{discussion.title()}</h2>\n                  </div>\n\n                  {/* Excerpt */}\n                  {previewText(discussion.firstPost().contentPlain())}\n                  {/* {console.log(discussion)} */}\n\n                  {/* Footer */}\n                  <div className='cardSpacer'>\n                    <div className='cardFooter'>\n                      {/* Author image */}\n                      <Link href={discussion.user() ? app.route.user(discussion.user()) : '#'}>\n                        {avatar(discussion.user(), { className: 'Avatar--mini' })}\n                      </Link>\n\n                      {/* Nickname and created date */}\n                      <div className=\"actor\">\n                        {username(discussion.user())}\n                        <div className=\"date\">\n                          {humanTime(discussion.createdAt())}\n                        </div>\n                      </div>\n\n                      {/* Reply count */}\n                      <Link href={app.route.discussion(discussion, discussion.lastPostNumber())} class=\"replies\"\n                        title={(discussion.replyCount() > 0) ? app.translator.trans('list-grid-layouts.forum.index.last_reply') + humanTime(discussion.lastPostedAt()) : ''}>\n                        <div className=\"commentIcon\">{icon('far fa-comment-alt')}</div>\n                        {discussion.replyCount()}\n                      </Link>\n                    </div>\n                  </div>\n                </Link>\n            </div>\n          );\n        })}\n      </div>\n      <div className='DiscussionList-loadMore'>{loading}</div>\n    </div>\n  );\n};","import LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport Button from 'flarum/components/Button';\nimport Placeholder from 'flarum/components/Placeholder';\nimport DiscussionListItem from 'flarum/components/DiscussionListItem';\n\nexport default function listTemplate(state) {\n  const params = state.getParams();\n  let loading;\n\n  if (state.isLoading()) {\n    loading = LoadingIndicator.component();\n  }\n  else {\n    if (state.moreResults) {\n      loading = Button.component(\n        {\n          className: 'Button',\n          onclick: state.loadMore.bind(state),\n        },\n        app.translator.trans('core.forum.discussion_list.load_more_button')\n      );\n    }\n  }\n\n  if (state.empty()) {\n    const text = app.translator.trans('core.forum.discussion_list.empty_text');\n    return <div className=\"DiscussionList\">{Placeholder.component({ text })}</div>;\n  }\n\n  return (\n    <div className={'DiscussionList' + (state.isSearchResults() ? ' DiscussionList--searchResults' : '')}>\n      <ul className=\"DiscussionList-discussions\">\n        {state.discussions.map((discussion) => {\n          return (\n            <li key={discussion.id()} data-id={discussion.id()}>\n              {DiscussionListItem.component({ discussion, params })}\n            </li>\n          );\n        })}\n      </ul>\n      <div className=\"DiscussionList-loadMore\">{loading}</div>\n    </div>\n  );\n};\n","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/DiscussionList'];","module.exports = flarum.core.compat['components/DiscussionListItem'];","module.exports = flarum.core.compat['components/DiscussionPage'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/Link'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Placeholder'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","module.exports = flarum.core.compat['utils/humanTime'];","module.exports = flarum.core.compat['utils/string'];"],"sourceRoot":""}